var ue=Object.defineProperty,de=Object.defineProperties;var fe=Object.getOwnPropertyDescriptors;var X=Object.getOwnPropertySymbols;var ve=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable;var H=(r,e,n)=>e in r?ue(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,T=(r,e)=>{for(var n in e||(e={}))ve.call(e,n)&&H(r,n,e[n]);if(X)for(var n of X(e))pe.call(e,n)&&H(r,n,e[n]);return r},N=(r,e)=>de(r,fe(e));var J=(r,e,n)=>new Promise((t,a)=>{var u=f=>{try{v(n.next(f))}catch(c){a(c)}},l=f=>{try{v(n.throw(f))}catch(c){a(c)}},v=f=>f.done?t(f.value):Promise.resolve(f.value).then(u,l);v((n=n.apply(r,e)).next())});import{x as M,P as k,b3 as ne,d as W,j as g,c as s,a2 as se,k as F,cf as K,r as oe,cg as ge,l as le,ch as he,b6 as me,i as L,e as D,u as ke,aY as ye,a0 as be,aW as Ce,ci as _e,aR as Pe,aM as Se,cj as xe,z as U,K as ie,bC as we,bD as De,N as i,y as Ie,ae as Oe,bO as Le,q as je,t as Fe,B as Z,Y as y,Z as x,$ as w,aJ as Q,ck as R,a3 as We,F as V}from"./index.6ee6dd82.js";import{D as _}from"./index.976139e5.js";import{f as A}from"./index.042397f8.js";var ce=M("normal","exception","active","success"),ze=M("line","circle","dashboard"),Be=M("default","small"),E=function(){return{prefixCls:k.string,type:k.oneOf(ze),percent:k.number,format:{type:Function},status:k.oneOf(ce),showInfo:k.looseBool,strokeWidth:k.number,strokeLinecap:k.oneOf(M("butt","round","square")),strokeColor:{type:[String,Object]},trailColor:k.string,width:k.number,success:{type:Object,default:function(){return{}}},gapDegree:k.number,gapPosition:k.oneOf(M("top","bottom","left","right")),size:k.oneOf(Be),steps:k.number,successPercent:k.number,title:String}};function j(r){return!r||r<0?0:r>100?100:r}function q(r){var e=r.success,n=r.successPercent,t=n;return e&&"progress"in e&&(ne(!1,"Progress","`success.progress` is deprecated. Please use `success.percent` instead."),t=e.progress),e&&"percent"in e&&(t=e.percent),t}var Ae=globalThis&&globalThis.__rest||function(r,e){var n={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.indexOf(t)<0&&(n[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(r);a<t.length;a++)e.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(r,t[a])&&(n[t[a]]=r[t[a]]);return n},$e=F(F({},E()),{prefixCls:k.string,direction:{type:String}}),Te=function(e){var n=[];return Object.keys(e).forEach(function(t){var a=parseFloat(t.replace(/%/g,""));isNaN(a)||n.push({key:a,value:e[t]})}),n=n.sort(function(t,a){return t.key-a.key}),n.map(function(t){var a=t.key,u=t.value;return"".concat(u," ").concat(a,"%")}).join(", ")},Ne=function(e,n){var t=e.from,a=t===void 0?K.blue:t,u=e.to,l=u===void 0?K.blue:u,v=e.direction,f=v===void 0?n==="rtl"?"to left":"to right":v,c=Ae(e,["from","to","direction"]);if(Object.keys(c).length!==0){var h=Te(c);return{backgroundImage:"linear-gradient(".concat(f,", ").concat(h,")")}}return{backgroundImage:"linear-gradient(".concat(f,", ").concat(a,", ").concat(l,")")}},Me=W({name:"Line",props:$e,setup:function(e,n){var t=n.slots,a=g(function(){var c=e.strokeColor,h=e.direction;return c&&typeof c!="string"?Ne(c,h):{background:c}}),u=g(function(){return e.trailColor?{backgroundColor:e.trailColor}:void 0}),l=g(function(){var c=e.percent,h=e.strokeWidth,d=e.strokeLinecap,o=e.size;return F({width:"".concat(j(c),"%"),height:"".concat(h||(o==="small"?6:8),"px"),borderRadius:d==="square"?0:""},a.value)}),v=g(function(){return q(e)}),f=g(function(){var c=e.strokeWidth,h=e.size,d=e.strokeLinecap,o=e.success;return{width:"".concat(j(v.value),"%"),height:"".concat(c||(h==="small"?6:8),"px"),borderRadius:d==="square"?0:"",backgroundColor:o==null?void 0:o.strokeColor}});return function(){var c;return s(se,null,[s("div",{class:"".concat(e.prefixCls,"-outer")},[s("div",{class:"".concat(e.prefixCls,"-inner"),style:u.value},[s("div",{class:"".concat(e.prefixCls,"-bg"),style:l.value},null),v.value!==void 0?s("div",{class:"".concat(e.prefixCls,"-success-bg"),style:f.value},null):null])]),(c=t.default)===null||c===void 0?void 0:c.call(t)])}}}),Ee={percent:0,prefixCls:"vc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1},Re=function(e){var n=oe(null);return ge(function(){var t=Date.now(),a=!1;e.value.forEach(function(u){var l,v=((l=u)===null||l===void 0?void 0:l.$el)||u;if(!!v){a=!0;var f=v.style;f.transitionDuration=".3s, .3s, .3s, .06s",n.value&&t-n.value<100&&(f.transitionDuration="0s, 0s")}}),a&&(n.value=Date.now())}),e},Ve={gapDegree:k.number,gapPosition:{type:String},percent:{type:[Array,Number]},prefixCls:k.string,strokeColor:{type:[Object,String,Array]},strokeLinecap:{type:String},strokeWidth:k.number,trailColor:k.string,trailWidth:k.number,transition:k.string},Ge=globalThis&&globalThis.__rest||function(r,e){var n={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.indexOf(t)<0&&(n[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(r);a<t.length;a++)e.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(r,t[a])&&(n[t[a]]=r[t[a]]);return n},ee=0;function te(r){return+r.replace("%","")}function re(r){return Array.isArray(r)?r:[r]}function ae(r,e,n,t){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,u=arguments.length>5?arguments[5]:void 0,l=50-t/2,v=0,f=-l,c=0,h=-2*l;switch(u){case"left":v=-l,f=0,c=2*l,h=0;break;case"right":v=l,f=0,c=-2*l,h=0;break;case"bottom":f=l,h=2*l;break}var d="M 50,50 m ".concat(v,",").concat(f,`
   a `).concat(l,",").concat(l," 0 1 1 ").concat(c,",").concat(-h,`
   a `).concat(l,",").concat(l," 0 1 1 ").concat(-c,",").concat(h),o=Math.PI*2*l,m={stroke:n,strokeDasharray:"".concat(e/100*(o-a),"px ").concat(o,"px"),strokeDashoffset:"-".concat(a/2+r/100*(o-a),"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s"};return{pathString:d,pathStyle:m}}var Ue=W({name:"VCCircle",props:le(Ve,Ee),setup:function(e){ee+=1;var n=oe(ee),t=g(function(){return re(e.percent)}),a=g(function(){return re(e.strokeColor)}),u=he(),l=me(u,2),v=l[0],f=l[1];Re(f);var c=function(){var d=e.prefixCls,o=e.strokeWidth,m=e.strokeLinecap,b=e.gapDegree,p=e.gapPosition,P=0;return t.value.map(function(S,C){var z=a.value[C]||a.value[a.value.length-1],B=Object.prototype.toString.call(z)==="[object Object]"?"url(#".concat(d,"-gradient-").concat(n.value,")"):"",I=ae(P,S,z,o,b,p),Y=I.pathString,O=I.pathStyle;P+=S;var $={key:C,d:Y,stroke:B,"stroke-linecap":m,"stroke-width":o,opacity:S===0?0:1,"fill-opacity":"0",class:"".concat(d,"-circle-path"),style:O};return s("path",L({ref:v(C)},$),null)})};return function(){var h=e.prefixCls,d=e.strokeWidth,o=e.trailWidth,m=e.gapDegree,b=e.gapPosition,p=e.trailColor,P=e.strokeLinecap;e.strokeColor;var S=Ge(e,["prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","strokeColor"]),C=ae(0,100,p,d,m,b),z=C.pathString,B=C.pathStyle;delete S.percent;var I=a.value.find(function(O){return Object.prototype.toString.call(O)==="[object Object]"}),Y={d:z,stroke:p,"stroke-linecap":P,"stroke-width":o||d,"fill-opacity":"0",class:"".concat(h,"-circle-trail"),style:B};return s("svg",L({class:"".concat(h,"-circle"),viewBox:"0 0 100 100"},S),[I&&s("defs",null,[s("linearGradient",{id:"".concat(h,"-gradient-").concat(n.value),x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[Object.keys(I).sort(function(O,$){return te(O)-te($)}).map(function(O,$){return s("stop",{key:$,offset:O,"stop-color":I[O]},null)})])]),s("path",Y,null),c().reverse()])}}});function qe(r){var e=r.percent,n=r.success,t=r.successPercent,a=j(q({success:n,successPercent:t}));return[a,j(j(e)-a)]}function Ye(r){var e=r.success,n=e===void 0?{}:e,t=r.strokeColor,a=n.strokeColor;return[a||K.green,t||null]}var Ke=W({inheritAttrs:!1,props:E(),setup:function(e,n){var t=n.slots,a=g(function(){if(e.gapDegree||e.gapDegree===0)return e.gapDegree;if(e.type==="dashboard")return 75}),u=g(function(){var o=e.width||120;return{width:typeof o=="number"?"".concat(o,"px"):o,height:typeof o=="number"?"".concat(o,"px"):o,fontSize:"".concat(o*.15+6,"px")}}),l=g(function(){return e.strokeWidth||6}),v=g(function(){return e.gapPosition||e.type==="dashboard"&&"bottom"||"top"}),f=g(function(){return qe(e)}),c=g(function(){return Object.prototype.toString.call(e.strokeColor)==="[object Object]"}),h=g(function(){return Ye({success:e.success,strokeColor:e.strokeColor})}),d=g(function(){var o;return o={},D(o,"".concat(e.prefixCls,"-inner"),!0),D(o,"".concat(e.prefixCls,"-circle-gradient"),c.value),o});return function(){var o;return s("div",{class:d.value,style:u.value},[s(Ue,{percent:f.value,strokeWidth:l.value,trailWidth:l.value,strokeColor:h.value,strokeLinecap:e.strokeLinecap,trailColor:e.trailColor,prefixCls:e.prefixCls,gapDegree:a.value,gapPosition:v.value},null),(o=t.default)===null||o===void 0?void 0:o.call(t)])}}}),Xe=F(F({},E()),{steps:k.number,size:{type:String},strokeColor:k.string,trailColor:k.string}),He=W({props:Xe,setup:function(e,n){var t=n.slots,a=g(function(){return Math.round(e.steps*((e.percent||0)/100))}),u=g(function(){return e.size==="small"?2:14}),l=g(function(){for(var v=e.steps,f=e.strokeWidth,c=f===void 0?8:f,h=e.strokeColor,d=e.trailColor,o=e.prefixCls,m=[],b=0;b<v;b+=1){var p,P=(p={},D(p,"".concat(o,"-steps-item"),!0),D(p,"".concat(o,"-steps-item-active"),b<=a.value-1),p);m.push(s("div",{key:b,class:P,style:{backgroundColor:b<=a.value-1?h:d,width:"".concat(u.value,"px"),height:"".concat(c,"px")}},null))}return m});return function(){var v;return s("div",{class:"".concat(e.prefixCls,"-steps-outer")},[l.value,(v=t.default)===null||v===void 0?void 0:v.call(t)])}}}),Je=W({name:"AProgress",props:le(E(),{type:"line",percent:0,showInfo:!0,trailColor:null,size:"default",gapDegree:0,strokeLinecap:"round"}),slots:["format"],setup:function(e,n){var t=n.slots,a=ke("progress",e),u=a.prefixCls,l=a.direction;ne(e.successPercent==null,"Progress","`successPercent` is deprecated. Please use `success.percent` instead.");var v=g(function(){var d,o=e.type,m=e.showInfo,b=e.size,p=u.value;return d={},D(d,p,!0),D(d,"".concat(p,"-").concat(o==="dashboard"&&"circle"||o),!0),D(d,"".concat(p,"-show-info"),m),D(d,"".concat(p,"-").concat(b),b),D(d,"".concat(p,"-rtl"),l.value==="rtl"),d}),f=g(function(){var d=e.percent,o=d===void 0?0:d,m=q(e);return parseInt(m!==void 0?m.toString():o.toString(),10)}),c=g(function(){var d=e.status;return ce.indexOf(d)<0&&f.value>=100?"success":d||"normal"}),h=function(){var o=e.showInfo,m=e.format,b=e.type,p=e.percent,P=e.title,S=q(e);if(!o)return null;var C,z=m||(t==null?void 0:t.format)||function(I){return"".concat(I,"%")},B=b==="line";return m||(t==null?void 0:t.format)||c.value!=="exception"&&c.value!=="success"?C=z(j(p),j(S)):c.value==="exception"?C=B?s(ye,null,null):s(be,null,null):c.value==="success"&&(C=B?s(Ce,null,null):s(_e,null,null)),s("span",{class:"".concat(u.value,"-text"),title:P===void 0&&typeof C=="string"?C:void 0},[C])};return function(){var d=e.type,o=e.steps,m=e.strokeColor,b=e.title,p=h(),P;d==="line"?P=o?s(He,L(L({},e),{},{strokeColor:typeof m=="string"?m:void 0,prefixCls:u.value,steps:o}),{default:function(){return[p]}}):s(Me,L(L({},e),{},{prefixCls:u.value}),{default:function(){return[p]}}):(d==="circle"||d==="dashboard")&&(P=s(Ke,L(L({},e),{},{prefixCls:u.value}),{default:function(){return[p]}}));var S=F(F({},v.value),D({},"".concat(u.value,"-status-").concat(c.value),!0));return s("div",{class:S,title:b},[P])}}}),Ze=Pe(Je);function Qe(){return Se({url:xe.stat,method:"get"})}const G=W({props:N(T({},E()),{strokeColor:{type:[String,Object,Function]}}),setup(r){const e=r,n=g(()=>typeof e.strokeColor=="function"?N(T({},e),{strokeColor:e.strokeColor(e.percent)}):N(T({},e),{strokeColor:e.strokeColor}));return(t,a)=>(U(),ie(i(Ze),we(De(i(n))),null,16))}});const et={class:"sys-server-stat-container"},tt={class:"disk-info"},rt={class:"disk-info--item"},at={class:"disk-info"},nt={class:"disk-info--item"},st={name:"SystemMonitorServe"},ot=W(N(T({},st),{setup(r){let e=-1;const n=Oe({runtime:{os:"",arch:"",nodeVersion:"",npmVersion:""},disk:{size:0,used:0,available:0},memory:{total:0,available:0},cpu:{manufacturer:"",brand:"",physicalCores:0,model:"",speed:0,rawCurrentLoad:0,rawCurrentLoadIdle:0,coresLoad:[]}}),{runtime:t,disk:a,memory:u,cpu:l}=Le(n),v=g(()=>({size:A(a.value.size),used:A(a.value.used),available:A(a.value.available)})),f=g(()=>({total:A(u.value.total),free:A(u.value.available),used:A(u.value.total-u.value.available)})),c=g(()=>a.value.size<=0?0:Math.floor(a.value.used/a.value.size*100)),h=g(()=>u.value.total<=0?0:Math.floor((u.value.total-u.value.available)/u.value.total*100)),d=g(()=>`${l.value.manufacturer} ${l.value.brand} @ ${l.value.speed}GHz`),o=()=>J(this,null,function*(){const p=yield Qe();t.value=p.runtime,a.value=p.disk,u.value=p.memory,l.value=p.cpu});o();const m=p=>p<30?"#5cb87a":p<70?"#e6a23c":"#f53f3f",b=(p,P)=>P<=0?0:Math.floor(p/P*100);return je(()=>{e=setInterval(o,1e4)}),Fe(()=>{clearInterval(e)}),(p,P)=>(U(),Z("div",et,[s(i(R),{class:"stat-card",title:"\u8FD0\u884C\u73AF\u5883"},{default:y(()=>[s(i(_),{column:1,"label-style":{width:"50%"}},{default:y(()=>[s(i(_).Item,{label:"\u64CD\u4F5C\u7CFB\u7EDF"},{default:y(()=>[x(w(i(t).os),1)]),_:1}),s(i(_).Item,{label:"\u7CFB\u7EDF\u67B6\u6784"},{default:y(()=>[x(w(i(t).arch),1)]),_:1}),s(i(_).Item,{label:"Node\u7248\u672C"},{default:y(()=>[s(i(Q),{color:"processing",size:"small"},{default:y(()=>[x("v"+w(i(t).nodeVersion),1)]),_:1})]),_:1}),s(i(_).Item,{label:"NPM\u7248\u672C"},{default:y(()=>[s(i(Q),{color:"processing",size:"small"},{default:y(()=>[x("v"+w(i(t).npmVersion),1)]),_:1})]),_:1})]),_:1})]),_:1}),s(i(R),{class:"stat-card",title:"CPU"},{default:y(()=>[s(i(_),{column:1,"label-style":{width:"50%"},"content-style":{width:"50%"}},{default:y(()=>[s(i(_).Item,{label:"\u8BE6\u7EC6"},{default:y(()=>[x(w(i(d)),1)]),_:1}),s(i(_).Item,{label:"\u8D1F\u8F7D"},{default:y(()=>[s(G,{percent:b(i(l).rawCurrentLoad,i(l).rawCurrentLoadIdle+i(l).rawCurrentLoad),"stroke-color":m},null,8,["percent"])]),_:1}),(U(!0),Z(se,null,We(i(l).coresLoad,(S,C)=>(U(),ie(i(_).Item,{key:C,label:`\u6838\u5FC3${C+1} \u8D1F\u8F7D`},{default:y(()=>[s(G,{percent:b(S.rawLoad,S.rawLoad+S.rawLoadIdle),"stroke-color":m},null,8,["percent"])]),_:2},1032,["label"]))),128))]),_:1})]),_:1}),s(i(R),{class:"stat-card",title:"\u78C1\u76D8"},{default:y(()=>[V("div",tt,[s(i(_),{class:"disk-info--item",column:1},{default:y(()=>[s(i(_).Item,{label:"\u603B\u7A7A\u95F4"},{default:y(()=>[x(w(i(v).size),1)]),_:1}),s(i(_).Item,{label:"\u5DF2\u7528\u7A7A\u95F4"},{default:y(()=>[x(w(i(v).used),1)]),_:1}),s(i(_).Item,{label:"\u53EF\u7528\u7A7A\u95F4"},{default:y(()=>[x(w(i(v).available),1)]),_:1})]),_:1}),V("div",rt,[s(G,{type:"dashboard",percent:i(c),width:100,"stroke-color":m},null,8,["percent"])])])]),_:1}),s(i(R),{class:"stat-card",title:"\u5185\u5B58"},{default:y(()=>[V("div",at,[s(i(_),{class:"disk-info--item",column:1},{default:y(()=>[s(i(_).Item,{label:"\u603B\u5185\u5B58"},{default:y(()=>[x(w(i(f).total),1)]),_:1}),s(i(_).Item,{label:"\u5DF2\u7528\u5185\u5B58"},{default:y(()=>[x(w(i(f).used),1)]),_:1}),s(i(_).Item,{label:"\u53EF\u7528\u5185\u5B58"},{default:y(()=>[x(w(i(f).free),1)]),_:1})]),_:1}),V("div",nt,[s(G,{type:"dashboard",percent:i(h),width:100,"stroke-color":m},null,8,["percent"])])])]),_:1})]))}}));var dt=Ie(ot,[["__scopeId","data-v-26e2b97c"]]);export{dt as default};
